# Создание запроса на внесение изменений в системе контроля версий Arc

Краткая инструкция о том, как создать pull request в Arc.

## Введение

Примечание: инструкция составлена на основе тестового задания и доклада Степана Полохина (Yandex Infrastructure) "Arc — внутренняя VCS для монорепозитория Яндекса", как самого достоверного и актуального источника в открытом доступе на момент написания инструкции.

В Яндексе для работы с кодом используют систему контроля версий Arc. Консольные команды в этой системе аналогичны командам Git и используют тот же синтаксис. В этой инструкции рассматривается создание запроса на внесение изменений (pull request).

Перед началом работы установите на компьютер клиент Arc и войдите в систему, используя ваши логин и пароль.

## М

Несмотря на схожий синтаксис команд, Arc существенно отличается от Git. Самое главное для пользователя отличие заключается в том, что репозитории в Arc клонировать не надо. Чтобы начать работу с кодом, нужно сначала смонтировать репозиторий, а затем создать ветку.

1. Запустите консольный клиент Arc.
2. Примонтируйте репозиторий вашего проекта:

```bash
    $ arc mount https://arc.yandex.ru/arc/trunk/projectname /home/user/path/to/repository
```

`projectname` - название проекта в репозитории Яндекса; `/home/user/path/to/repository` - точка монтирования репозитория.

3. Создайте рабочую ветку:

``
    $ arc branch branchname
``

`branchname` - название ветки. При выборе названий руководствуйтесь правилами наименования, принятыми в Яндексе.

4. Перейдите в рабочую ветку:

``
    $ arc checkout branchname
``

5. Внесите изменения в файлы, используя удобный для вас редактор кода.
6. Проиндексируйте измененные и добавленные вами файлы:

``
    $ arc add filename1 filename2
``

`filenameX` - имя измененного или нового файла.

7. Зафиксируйте изменения в ветке и кратко опишите изменения:

``
    $ arc commit -m "Your message"
``

"Your message" - краткое описание изменений.

8. Перейдите в основную ветку и проверьте ее на предмет изменений:

``
    $ arc checkout trunk
    $ arc pull
``


git clone https://github.com/project
cd /path/to/project
git branch your_branch
git checkout your_branch

Внести изменения

git add /path/to/file
git commit
git push -u origin your_branch

Проверить изменения в основной ветке

git checkout master
git pull
git checkout your_branch
git merge origin/master

Отправить пулл-реквест


1. Создайте ветку для вашей части кодовой базы, если она еще не создана:

    $ arc branch ssh://arcadia.yandex.ru/arc/trunk/project new_branch

!!! Подумать о том, как создать новую ветку на сервере


2. Выгрузите код код на компьютер:

    $ arc checkout new_branch

Локальная копия ветки создана, можно приступать к работе.

## 

